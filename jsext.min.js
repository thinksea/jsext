function regExpEscape(n){return n.replace(/\\/gi,"\\").replace(/\*/gi,"\\*").replace(/\+/gi,"\\+").replace(/\?/gi,"\\?").replace(/\|/gi,"\\|").replace(/\{/gi,"\\{").replace(/\[/gi,"\\[").replace(/\(/gi,"\\(").replace(/\)/gi,"\\)").replace(/\^/gi,"\\^").replace(/\$/gi,"\\$").replace(/\./gi,"\\.").replace(/\#/gi,"\\#")}function xmlEncode(n){return n=n.replace(/\&/g,"&amp;"),n=n.replace(/\</g,"&lt;"),n=n.replace(/\>/g,"&gt;"),n=n.replace(/\'/g,"&apos;"),n.replace(/\"/g,"&quot;")}function htmlEncode(n){return n==null?null:n.replace(/&/gi,"&amp;").replace(/\"/gi,"&quot;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/ /gi,"&nbsp;")}function htmlDecode(n){return n==null?null:n.replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&nbsp;/gi," ").replace(/&amp;/gi,"&")}typeof Number.prototype.format!="function"&&(Number.prototype.format=function(n){var f,o,l,u;if(!n)return this.toString();f=this;f!=undefined&&f!=null&&n&&(o=n.lastIndexOf("."),o!=-1&&(How=n.length-o-1,f=Math.round(f*Math.pow(10,How))/Math.pow(10,How)));var s=f?f.toString().split("."):["0"],h=n?n.split("."):[""],t="",r=s[0],e=h[0],i=r.length-1,c=!1;for(u=e.length-1;u>=0;u--)switch(e.substr(u,1)){case"#":i>=0&&(t=r.substr(i--,1)+t);break;case"0":t=i>=0?r.substr(i--,1)+t:"0"+t;break;case",":c=!0;t=","+t}if(i>=0)if(c)for(l=r.length;i>=0;i--)t=r.substr(i,1)+t,i>0&&(l-i)%3==0&&(t=","+t);else t=r.substr(0,i+1)+t;for(t=t+".",r=s.length>1?s[1]:"",e=h.length>1?h[1]:"",i=0,u=0;u<e.length;u++)switch(e.substr(u,1)){case"#":i<r.length&&(t+=r.substr(i++,1));break;case"0":t+=i<r.length?r.substr(i++,1):"0"}return t.replace(/^,+/,"").replace(/\.$/,"")});typeof Date.prototype.format!="function"&&(Date.prototype.format=function(n,t){var i,r,f,e,u;if(!n)return this.toString();if(i={},i.Year=this.getFullYear(),i.TYear=(""+i.Year).substr(2),i.Month=this.getMonth()+1,i.TMonth=i.Month<10?"0"+i.Month:i.Month,i.Day=this.getDate(),i.TDay=i.Day<10?"0"+i.Day:i.Day,i.Hour=this.getHours(),i.THour=i.Hour<10?"0"+i.Hour:i.Hour,i.hour=i.Hour<13?i.Hour:i.Hour-12,i.Thour=i.hour<10?"0"+i.hour:i.hour,i.Minute=this.getMinutes(),i.TMinute=i.Minute<10?"0"+i.Minute:i.Minute,i.Second=this.getSeconds(),i.TSecond=i.Second<10?"0"+i.Second:i.Second,i.Millisecond=this.getMilliseconds(),i.Week=this.getDay(),i.AmPm=i.Hour<13?0:1,n!=undefined&&n.replace(/\s/g,"").length>0){for(r=t?this.formatLocal[t]:this.formatLocal.en,i.regs={yyyy:i.Year,yyy:i.Year,yy:i.TYear,y:i.TYear,MMMM:r.MonthLong[i.Month-1],MMM:r.Month[i.Month-1],MM:i.TMonth,M:i.Month,dddd:r.WeekLong[i.Week],ddd:r.Week[i.Week],dd:i.TDay,d:i.Day,HH:i.THour,H:i.Hour,hh:i.Thour,h:i.hour,mm:i.TMinute,m:i.Minute,ss:i.TSecond,s:i.Second,fff:(i.Millisecond/1e3).format("0.000").substr(2),ff:(i.Millisecond/1e3).format("0.00").substr(2),f:(i.Millisecond/1e3).format("0.0").substr(2),FFF:(i.Millisecond/1e3).format("0.###").substr(2),FF:(i.Millisecond/1e3).format("0.##").substr(2),F:(i.Millisecond/1e3).format("0.#").substr(2),tt:r.AMPMLong[i.AmPm],t:r.AMPM[i.AmPm]},f="",e=!1;n.length>0;){e=!1;for(u in i.regs)if(n.substr(0,u.length)==u){f+=i.regs[u];n=n.substr(u.length);e=!0;break}e||(f+=n[0],n=n.substr(1))}return f}return i.Year+"-"+i.Month+"-"+i.Day+" "+i.Hour+":"+i.Minute+":"+i.Second});Date.prototype.formatLocal||(Date.prototype.formatLocal={en:{Month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MonthLong:["January","February","March","April","May","June","July","August","September","October","November","December"],Week:["Sun","Mon","Tue","Web","Thu","Fri","Sat"],WeekLong:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AMPM:["A","P"],AMPMLong:["AM","PM"]},zh_cn:{Month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],MonthLong:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],Week:["周日","周一","周二","周三","周四","周五","周六"],WeekLong:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],AMPM:["","午"],AMPMLong:["","午后"]}});typeof Date.prototype.addMilliseconds!="function"&&(Date.prototype.addMilliseconds=function(n){var t=this;return t.setMilliseconds(t.getMilliseconds()+n),t});typeof Date.prototype.addSeconds!="function"&&(Date.prototype.addSeconds=function(n){var t=this;return t.setSeconds(t.getSeconds()+n),t});typeof Date.prototype.addMinutes!="function"&&(Date.prototype.addMinutes=function(n){var t=this;return t.setMinutes(t.getMinutes()+n),t});typeof Date.prototype.addHours!="function"&&(Date.prototype.addHours=function(n){var t=this;return t.setHours(t.getHours()+n),t});typeof Date.prototype.addDays!="function"&&(Date.prototype.addDays=function(n){var t=this;return t.setDate(t.getDate()+n),t});typeof Date.prototype.addMonths!="function"&&(Date.prototype.addMonths=function(n){var t=this;return t.setMonth(t.getMonth()+n),t});typeof Date.prototype.addYears!="function"&&(Date.prototype.addYears=function(n){var t=this;return t.setFullYear(t.getFullYear()+n),t});typeof Array.prototype.indexOf!="function"&&(Array.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return t;return-1});typeof Array.prototype.remove!="function"&&(Array.prototype.remove=function(n){var t=this.indexOf(n);return t>-1&&this.splice(t,1),t>-1});typeof String.prototype.startsWith!="function"&&(String.prototype.startsWith=function(n,t){var i;return i=t==!0?new RegExp("^"+regExpEscape(n),"gi"):new RegExp("^"+regExpEscape(n),"g"),i.test(this)});typeof String.prototype.endsWith!="function"&&(String.prototype.endsWith=function(n,t){var i;return i=t==!0?new RegExp(regExpEscape(n)+"$","gi"):new RegExp(regExpEscape(n)+"$","g"),i.test(this)});typeof String.prototype.trim!="function"&&(String.prototype.trim=function(n){var t,i,r,u;if(n==null||n instanceof Array&&n.length==0)return this.replace(/^\s*/,"").replace(/\s*$/,"");if(t="",n instanceof Array&&n.length>0)for(i=0;i<n.length;i++)t.length>0&&(t+="|"),t+=regExpEscape(n[i]);else if(t=regExpEscape(n),arguments.length>1)for(i=1;i<arguments.length;i++)t.length>0&&(t+="|"),t+=regExpEscape(arguments[i]);return r=new RegExp("^("+t+")*"),u=this.replace(r,""),r=new RegExp("("+t+")*$"),u.replace(r,"")});typeof String.prototype.trimStart!="function"&&(String.prototype.trimStart=function(n){var t,i,r;if(n==null||n instanceof Array&&n.length==0)return this.replace(/^\s*/,"");if(t="",n instanceof Array&&n.length>0)for(i=0;i<n.length;i++)t.length>0&&(t+="|"),t+=regExpEscape(n[i]);else if(t=regExpEscape(n),arguments.length>1)for(i=1;i<arguments.length;i++)t.length>0&&(t+="|"),t+=regExpEscape(arguments[i]);return r=new RegExp("^("+t+")*"),this.replace(r,"")});typeof String.prototype.trimEnd!="function"&&(String.prototype.trimEnd=function(n){var t,i,r;if(n==null||n instanceof Array&&n.length==0)return this.replace(/\s*$/,"");if(t="",n instanceof Array&&n.length>0)for(i=0;i<n.length;i++)t.length>0&&(t+="|"),t+=regExpEscape(n[i]);else if(t=regExpEscape(n),arguments.length>1)for(i=1;i<arguments.length;i++)t.length>0&&(t+="|"),t+=regExpEscape(arguments[i]);return r=new RegExp("("+t+")*$"),this.replace(r,"")});typeof String.prototype.getFileName!="function"&&(String.prototype.getFileName=function(){var t=this.lastIndexOf("?"),n;return t==-1&&(t=this.length),n=this.lastIndexOf("\\",t-1),n==-1&&(n=this.lastIndexOf("/",t-1)),n==-1?n=0:n++,this.substring(n,t)});typeof String.prototype.getExtensionName!="function"&&(String.prototype.getExtensionName=function(){var n=this.getFileName(),t=n.lastIndexOf(".");return t==-1?"":n.substr(t)});typeof String.prototype.getUriParameter!="function"&&(String.prototype.getUriParameter=function(n){var t=this,i=new RegExp("(\\?|&)"+n.replace(/\$/gi,"\\$")+"=([^&]*)","gi");return(t=t.match(i),t)?decodeURIComponent((t+"").replace(i,"$2")):null});typeof String.prototype.setUriParameter!="function"&&(String.prototype.setUriParameter=function(n,t){var i=this,r;return i=i.replace(/(\s|\?)*$/g,""),i.indexOf("?")==-1?i+"?"+n+"="+encodeURIComponent(t):(r=new RegExp("(\\?|&)"+n.replace(/\$/gi,"\\$")+"=([^&]*)","gi"),r.test(i)?i.replace(r,"$1"+n.replace(/\$/gi,"$$$$")+"="+encodeURIComponent(t)):i+"&"+n+"="+encodeURIComponent(t))});typeof String.prototype.removeUriParameter!="function"&&(String.prototype.removeUriParameter=function(n){var t=this,i,r,u,f;return n=n.replace(/\$/gi,"\\$"),i=new RegExp("(\\?|&)"+n+"=([^&]*)","gi"),i.test(t)&&(r=new RegExp("\\?"+n+"=([^&]*)&","gi"),t=t.replace(r,"?"),u=new RegExp("\\?"+n+"=([^&]*)","gi"),t=t.replace(u,""),f=new RegExp("&"+n+"=([^&]*)","gi"),t=t.replace(f,"")),t});typeof String.prototype.clearUriParameter!="function"&&(String.prototype.clearUriParameter=function(){var n=this,t=/\?(.*)/gi;return t.test(n)?n.replace(t,""):n});typeof String.prototype.getUriProtocolAndDomain!="function"&&(String.prototype.getUriProtocolAndDomain=function(){var t=this,n=t.match(/^[^\/\\]+:\/\/([^\/]+)/gi);return n?n[0]:""});typeof String.prototype.getUriPath!="function"&&(String.prototype.getUriPath=function(){var t=this,n,i,r;return t==undefined||t==null||t==""?null:(n=t.clearUriParameter(),i=n.replace(/^[^\/\\]+:\/\/(([^\/]+$)|([^\/]+\/+)*)/gi,""),i!=""&&/\./gi.test(i)&&(n=n.substring(0,n.length-i.length)),r=/\/$/gi,r.test(n)?n:n+"/")});typeof String.prototype.combineUri!="function"&&(String.prototype.combineUri=function(n){var t=this,i,r;return t==""?n:n==""?t:n.indexOf("://")>=0?n:(i=/^\//gi,r=/\/$/gi,i.test(n))?t.getUriProtocolAndDomain()+n:r.test(t)?t+n:t+"/"+n});typeof String.prototype.getFullUri!="function"&&(String.prototype.getFullUri=function(){var t=this,i=t.getUriProtocolAndDomain();if(i==""&&!/^\//gi.test(t))return t;var n=t.substring(i.length,t.length),u=/(^\/(\.\.\/)+)/gi,f=/(\/[^\/.]+\/..\/)/gi,r=n;do{if(n=n.replace(u,"/"),n=n.replace(f,"/"),n.length==r.length)break;r=n}while(1);return i.combineUri(n)});typeof String.prototype.toColorHex!="function"&&(String.prototype.toColorHex=function(){var t=this,i,u,f,r,e,n;if(/^(rgb|RGB)/.test(t)||t.split(",").length==3){if(i=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),i.length==0||i.length==1&&i[0].length==0)return"";for(u="#",n=0;n<i.length;n++)f=Number(i[n]).toString(16),f.length==1&&(f="0"+f),u+=f;return u.length!==7&&(u=t),u}if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(r=t.replace(/#/,"").split(""),r.length===6)return t;if(r.length===3){for(e="#",n=0;n<r.length;n+=1)e+=r[n]+r[n];return e}}else return t});typeof String.prototype.toColorRGB!="function"&&(String.prototype.toColorRGB=function(){var t=this.toLowerCase(),i,r,n;if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(t.length===4){for(i="#",n=1;n<4;n+=1)i+=t.slice(n,n+1).concat(t.slice(n,n+1));t=i}for(r=[],n=1;n<7;n+=2)r.push(parseInt("0x"+t.slice(n,n+2)));return"RGB("+r.join(",")+")"}return t});
/*
//# sourceMappingURL=jsext.min.js.map
*/